{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport APIURL from '../constraint';\nimport cart from '@/data/Cart';\nexport default {\n  data() {\n    return {\n      product: {},\n      cart: cart,\n      selectedSize: '',\n      // Bi·∫øn ƒë·ªÉ l∆∞u k√≠ch th∆∞·ªõc ƒë√£ ch·ªçn\n      selectedPrice: '',\n      // Bi·∫øn ƒë·ªÉ l∆∞u gi√° ƒë√£ ch·ªçn\n      sizes: [] // Kh·ªüi t·∫°o sizes l√† m·∫£ng r·ªóng\n    };\n  },\n  async mounted() {\n    const id = this.$route.params.id; // L·∫•y ID t·ª´ URL\n    try {\n      const response = await axios.get(`${APIURL}productDrink/${id}`);\n      this.product = response.data; // L∆∞u d·ªØ li·ªáu s·∫£n ph·∫©m v√†o product\n      this.sizes = this.product.size || []; // C·∫≠p nh·∫≠t danh s√°ch k√≠ch th∆∞·ªõc\n      if (this.sizes.length > 0) {\n        this.selectedSize = this.sizes[0].type; // Ch·ªçn k√≠ch th∆∞·ªõc ƒë·∫ßu ti√™n\n        this.selectedPrice = this.sizes[0].price; // C·∫≠p nh·∫≠t gi√° ban ƒë·∫ßu\n      }\n    } catch (error) {\n      console.error('Error fetching product details:', error);\n    }\n  },\n  methods: {\n    updatePrice(newPrice) {\n      this.selectedPrice = newPrice; // C·∫≠p nh·∫≠t gi√° khi ch·ªçn k√≠ch th∆∞·ªõc\n    },\n    addToCart(product, size, price) {\n      // T√¨m s·∫£n ph·∫©m trong gi·ªè h√†ng d·ª±a tr√™n ID v√† k√≠ch th∆∞·ªõc ƒë√£ ch·ªçn\n      const infoproduct = this.cart.find(item => item.id === product.id && item.selectedSize === size);\n\n      // N·∫øu s·∫£n ph·∫©m ƒë√£ t·ªìn t·∫°i trong gi·ªè h√†ng\n      if (infoproduct) {\n        // Ki·ªÉm tra n·∫øu s·ªë l∆∞·ª£ng trong gi·ªè nh·ªè h∆°n t·ªìn kho\n        if (infoproduct.quantity < product.quality) {\n          infoproduct.quantity += 1; // TƒÉng s·ªë l∆∞·ª£ng trong gi·ªè\n          alert(\"Th√™m s·∫£n ph·∫©m v√†o gi·ªè h√†ng th√†nh c√¥ng!\", \"success\", \"Th√†nh c√¥ng\");\n        } else {\n          alert(\"Kh√¥ng th·ªÉ th√™m s·∫£n ph·∫©m, ƒë√£ h·∫øt h√†ng trong kho!\", \"info\", \"Th√¥ng b√°o\");\n        }\n      } else {\n        // N·∫øu s·∫£n ph·∫©m ch∆∞a c√≥ trong gi·ªè h√†ng\n        if (product.quality > 0) {\n          const newproduct = {\n            ...product,\n            selectedSize: size,\n            selectedPrice: price.toString(),\n            // Chuy·ªÉn gi√° th√†nh chu·ªói n·∫øu c·∫ßn\n            quantity: 1 // S·ªë l∆∞·ª£ng kh·ªüi t·∫°o trong gi·ªè h√†ng\n          };\n          this.cart.push(newproduct); // Th√™m s·∫£n ph·∫©m m·ªõi v√†o gi·ªè\n          alert(\"Th√™m s·∫£n ph·∫©m v√†o gi·ªè h√†ng th√†nh c√¥ng!\", \"success\", \"Th√†nh c√¥ng\");\n        } else {\n          this.showToast(\"S·∫£n ph·∫©m ƒë√£ h·∫øt h√†ng!\", \"info\", \"Th√¥ng b√°o\");\n        }\n      }\n    },\n    // H√†m c·∫≠p nh·∫≠t gi·ªè h√†ng v√†o localStorage\n    updateLocalStorage() {\n      // X√≥a t·∫•t c·∫£ s·∫£n ph·∫©m kh√¥ng h·ª£p l·ªá (v√≠ d·ª• h·∫øt h√†ng) kh·ªèi gi·ªè h√†ng tr∆∞·ªõc khi l∆∞u l·∫°i\n      this.cart = this.cart.filter(item => item.quality > 0);\n\n      // L∆∞u gi·ªè h√†ng v√†o localStorage\n      localStorage.setItem('cart', JSON.stringify(this.cart));\n    }\n  }\n};","map":{"version":3,"names":["axios","APIURL","cart","data","product","selectedSize","selectedPrice","sizes","mounted","id","$route","params","response","get","size","length","type","price","error","console","methods","updatePrice","newPrice","addToCart","infoproduct","find","item","quantity","quality","alert","newproduct","toString","push","showToast","updateLocalStorage","filter","localStorage","setItem","JSON","stringify"],"sources":["D:\\BaiHoc\\HK6\\CongCuVaMoiTruongPhatTrienUngDung\\Vue-Project\\my-project-restaurant\\src\\components\\ComProductDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"menu-Detail_parent\">\r\n    <div class=\"menu-Detail_container\">\r\n      <div class=\"menu-item-detail\">\r\n        <img :src=\"product.image\" alt=\"Juice\" class=\"menu-item-image\" />\r\n        <div class=\"menu-item-detail-info\">\r\n          <h3>{{ product.name }}</h3>\r\n          <p>{{ product.description }}</p>\r\n          <p class=\"Product-Pice\">{{ selectedPrice }}</p>\r\n          <p>S·ªë l∆∞·ª£ng c√≤n: {{ product.quality }}</p>\r\n\r\n          <!-- Ch·ªçn k√≠ch th∆∞·ªõc -->\r\n          <div class=\"size-selection\">\r\n            <h4>Ch·ªçn k√≠ch th∆∞·ªõc</h4>\r\n            <div class=\"size-options\">\r\n              <div v-for=\"size in sizes\" :key=\"size.id\">\r\n                <input\r\n                  type=\"radio\"\r\n                  :id=\"'size-' + size.id\"\r\n                  :value=\"size.type\"\r\n                  v-model=\"selectedSize\"\r\n                  @change=\"updatePrice(size.price)\"\r\n                />\r\n                <label :for=\"'size-' + size.id\">{{ size.type }}</label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"add-item\">\r\n          <div v-if=\"parseInt(product.quality) === 0\">H·∫øt h√†ng</div>\r\n          <div v-else>\r\n            <button\r\n              class=\"add-to-cart-button\"\r\n              @click=\"addToCart(product, selectedSize, selectedPrice)\"\r\n            >\r\n              üõí\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport APIURL from '../constraint';\r\nimport cart from '@/data/Cart';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      product: {},\r\n      cart: cart,\r\n      selectedSize: '', // Bi·∫øn ƒë·ªÉ l∆∞u k√≠ch th∆∞·ªõc ƒë√£ ch·ªçn\r\n      selectedPrice: '', // Bi·∫øn ƒë·ªÉ l∆∞u gi√° ƒë√£ ch·ªçn\r\n      sizes: [], // Kh·ªüi t·∫°o sizes l√† m·∫£ng r·ªóng\r\n    };\r\n  },\r\n  async mounted() {\r\n    const id = this.$route.params.id; // L·∫•y ID t·ª´ URL\r\n    try {\r\n      const response = await axios.get(`${APIURL}productDrink/${id}`);\r\n      this.product = response.data; // L∆∞u d·ªØ li·ªáu s·∫£n ph·∫©m v√†o product\r\n      this.sizes = this.product.size || []; // C·∫≠p nh·∫≠t danh s√°ch k√≠ch th∆∞·ªõc\r\n      if (this.sizes.length > 0) {\r\n        this.selectedSize = this.sizes[0].type; // Ch·ªçn k√≠ch th∆∞·ªõc ƒë·∫ßu ti√™n\r\n        this.selectedPrice = this.sizes[0].price; // C·∫≠p nh·∫≠t gi√° ban ƒë·∫ßu\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching product details:', error);\r\n    }\r\n  },\r\n  methods: {\r\n    updatePrice(newPrice) {\r\n      this.selectedPrice = newPrice; // C·∫≠p nh·∫≠t gi√° khi ch·ªçn k√≠ch th∆∞·ªõc\r\n    },\r\n    addToCart(product, size, price) {\r\n  // T√¨m s·∫£n ph·∫©m trong gi·ªè h√†ng d·ª±a tr√™n ID v√† k√≠ch th∆∞·ªõc ƒë√£ ch·ªçn\r\n  const infoproduct = this.cart.find(\r\n    (item) => item.id === product.id && item.selectedSize === size\r\n  );\r\n\r\n  // N·∫øu s·∫£n ph·∫©m ƒë√£ t·ªìn t·∫°i trong gi·ªè h√†ng\r\n  if (infoproduct) {\r\n    // Ki·ªÉm tra n·∫øu s·ªë l∆∞·ª£ng trong gi·ªè nh·ªè h∆°n t·ªìn kho\r\n    if (infoproduct.quantity < product.quality) {\r\n      infoproduct.quantity += 1; // TƒÉng s·ªë l∆∞·ª£ng trong gi·ªè\r\n     alert(\"Th√™m s·∫£n ph·∫©m v√†o gi·ªè h√†ng th√†nh c√¥ng!\", \"success\", \"Th√†nh c√¥ng\");\r\n    } else {\r\n      alert(\"Kh√¥ng th·ªÉ th√™m s·∫£n ph·∫©m, ƒë√£ h·∫øt h√†ng trong kho!\", \"info\", \"Th√¥ng b√°o\");\r\n    }\r\n  } else {\r\n    // N·∫øu s·∫£n ph·∫©m ch∆∞a c√≥ trong gi·ªè h√†ng\r\n    if (product.quality > 0) {\r\n      const newproduct = {\r\n        ...product,\r\n        selectedSize: size,\r\n        selectedPrice: price.toString(), // Chuy·ªÉn gi√° th√†nh chu·ªói n·∫øu c·∫ßn\r\n        quantity: 1, // S·ªë l∆∞·ª£ng kh·ªüi t·∫°o trong gi·ªè h√†ng\r\n      };\r\n      this.cart.push(newproduct); // Th√™m s·∫£n ph·∫©m m·ªõi v√†o gi·ªè\r\n    alert(\"Th√™m s·∫£n ph·∫©m v√†o gi·ªè h√†ng th√†nh c√¥ng!\", \"success\", \"Th√†nh c√¥ng\");\r\n    } else {\r\n      this.showToast(\"S·∫£n ph·∫©m ƒë√£ h·∫øt h√†ng!\", \"info\", \"Th√¥ng b√°o\");\r\n    }\r\n  }\r\n},\r\n\r\n\r\n    // H√†m c·∫≠p nh·∫≠t gi·ªè h√†ng v√†o localStorage\r\n    updateLocalStorage() {\r\n      // X√≥a t·∫•t c·∫£ s·∫£n ph·∫©m kh√¥ng h·ª£p l·ªá (v√≠ d·ª• h·∫øt h√†ng) kh·ªèi gi·ªè h√†ng tr∆∞·ªõc khi l∆∞u l·∫°i\r\n      this.cart = this.cart.filter((item) => item.quality > 0);\r\n\r\n      // L∆∞u gi·ªè h√†ng v√†o localStorage\r\n      localStorage.setItem('cart', JSON.stringify(this.cart));\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.menu-item-detail {\r\n  display: flex; /* S·ª≠ d·ª•ng flexbox ƒë·ªÉ s·∫Øp x·∫øp ·∫£nh v√† th√¥ng tin */\r\n  align-items: flex-start; /* CƒÉn l·ªÅ cho ph·∫ßn th√¥ng tin b√™n tr√°i */\r\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); /* Khung n·ªïi */\r\n  border-radius: 8px;\r\n  margin: 20px 0; /* Kho·∫£ng c√°ch gi·ªØa c√°c m·ª•c */\r\n  overflow: hidden; /* ƒê·∫£m b·∫£o kh√¥ng b·ªã tr√†n ra ngo√†i khung */\r\n  background-color: #fff; /* M√†u n·ªÅn cho khung */\r\n}\r\n\r\n.menu-item-image {\r\n  width: 300px; /* ƒê·ªô r·ªông c·ªßa ·∫£nh */\r\n  height: auto; /* Gi·ªØ t·ªâ l·ªá cho ·∫£nh */\r\n  align-self: center; /* CƒÉn gi·ªØa ·∫£nh */\r\n  border-radius: 8px; /* Bo tr√≤n g√≥c cho ·∫£nh */\r\n}\r\n\r\n.menu-item-detail-info {\r\n  padding: 20px; /* Th√™m kho·∫£ng c√°ch cho th√¥ng tin */\r\n  text-align: left;\r\n  flex: 1; /* Chi·∫øm h·∫øt kh√¥ng gian c√≤n l·∫°i */\r\n}\r\n\r\n.size-selection {\r\n  margin-top: 10px; /* Kho·∫£ng c√°ch gi·ªØa k√≠ch th∆∞·ªõc v√† m√¥ t·∫£ */\r\n  text-align: left; /* CƒÉn l·ªÅ tr√°i cho vƒÉn b·∫£n */\r\n}\r\n\r\n.size-options {\r\n  display: flex; /* Hi·ªÉn th·ªã c√°c l·ª±a ch·ªçn k√≠ch th∆∞·ªõc theo h√†ng ngang */\r\n  gap: 10px; /* Kho·∫£ng c√°ch gi·ªØa c√°c radio button */\r\n}\r\n\r\n.menu-item-detail-info h3 {\r\n  font-size: 40px; /* K√≠ch th∆∞·ªõc ti√™u ƒë·ªÅ */\r\n  margin: 0 0 10px;\r\n  font-style: italic;\r\n  color: orange;\r\n}\r\n\r\n.menu-item-detail-info p {\r\n  margin: 0 0 5px; /* Kho·∫£ng c√°ch gi·ªØa c√°c ƒëo·∫°n vƒÉn */\r\n}\r\n.add-to-cart-button {\r\n  margin-top: 10px;\r\n  width: 30px;\r\n  height: 30px;\r\n  background-color: #ff8c00;\r\n  border: none;\r\n  color: #fff;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  border-radius: 50%;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.add-to-cart-button:hover {\r\n  background-color: #e67e00;\r\n}\r\n.menu-Detail_container {\r\n  padding-top: 20px;\r\n}\r\n.menu-item-detail {\r\n  width: 400px; /* Chi·ªÅu r·ªông c·ªë ƒë·ªãnh cho kh·ªëi vu√¥ng */\r\n  height: 670px; /* Chi·ªÅu cao c·ªë ƒë·ªãnh cho kh·ªëi vu√¥ng */\r\n  margin: 50px auto; /* CƒÉn gi·ªØa theo chi·ªÅu ngang v·ªõi margin t·ª± ƒë·ªông */\r\n  display: flex; /* S·ª≠ d·ª•ng flexbox */\r\n  flex-direction: column; /* X·∫øp theo chi·ªÅu d·ªçc */\r\n  justify-content: center; /* CƒÉn gi·ªØa n·ªôi dung theo chi·ªÅu d·ªçc */\r\n  align-items: flex-start; /* CƒÉn tr√°i n·ªôi dung */\r\n  padding: 20px; /* Padding b√™n trong kh·ªëi */\r\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); /* ƒê·ªï b√≥ng cho kh·ªëi */\r\n  border-radius: 8px; /* Bo tr√≤n g√≥c kh·ªëi */\r\n  background-color: #fff; /* M√†u n·ªÅn cho kh·ªëi */\r\n  border: 3px solid #b6832c; /* Th√™m vi·ªÅn v·ªõi m√†u #b6832c */\r\n}\r\n\r\n.Product-Pice {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #218838;\r\n}\r\n.add-item {\r\n  align-self: center;\r\n  width: 40px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}