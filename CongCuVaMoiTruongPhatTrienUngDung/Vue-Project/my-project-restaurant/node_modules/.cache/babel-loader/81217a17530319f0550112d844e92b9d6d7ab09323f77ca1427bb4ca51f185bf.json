{"ast":null,"code":"import axios from 'axios';\nimport APIURL from '../constraint';\nexport default {\n  async fetchProducts({\n    commit,\n    state\n  }) {\n    // Kiểm tra nếu dữ liệu đã được fetch rồi, không gọi lại API nữa\n    if (state.products.length > 0) {\n      return; // Dữ liệu đã có, không làm gì cả\n    }\n    try {\n      // Sử dụng axios để gọi API\n      const response = await axios.get(`${APIURL}productDrink`);\n      commit('setProducts', response.data); // Gọi mutation để cập nhật state\n    } catch (error) {\n      console.error('Error fetching products:', error);\n    }\n  },\n  async addProduct({\n    commit\n  }, newProduct) {\n    try {\n      // Gửi yêu cầu POST tới API để thêm sản phẩm mới\n      const response = await axios.post(`${APIURL}productDrink`, newProduct);\n      // Gọi mutation để thêm sản phẩm mới vào state\n      commit('addProductToState', response.data);\n    } catch (error) {\n      console.error('Error adding product:', error);\n    }\n  },\n  async updateProduct({\n    commit\n  }, {\n    id,\n    updatedProduct\n  }) {\n    try {\n      // Gọi API PUT để cập nhật sản phẩm\n      const response = await axios.put(`${APIURL}productDrink/${id}`, updatedProduct);\n      // Gọi mutation để cập nhật sản phẩm trong state\n      commit('updateProductInState', response.data);\n    } catch (error) {\n      console.error('Error updating product:', error);\n    }\n  },\n  async deleteProduct({\n    commit\n  }, id) {\n    try {\n      // Gọi API DELETE để xóa sản phẩm\n      await axios.delete(`${APIURL}productDrink/${id}`);\n      // Gọi mutation để xóa sản phẩm khỏi state\n      commit('removeProductFromState', id);\n    } catch (error) {\n      console.error('Error deleting product:', error);\n    }\n  }\n};","map":{"version":3,"names":["axios","APIURL","fetchProducts","commit","state","products","length","response","get","data","error","console","addProduct","newProduct","post","updateProduct","id","updatedProduct","put","deleteProduct","delete"],"sources":["D:/BaiHoc/HK6/CongCuVaMoiTruongPhatTrienUngDung/Vue-Project/my-project-restaurant/src/store/action.js"],"sourcesContent":["import axios from 'axios';\r\nimport APIURL from '../constraint';\r\n\r\nexport default {\r\n  async fetchProducts({ commit, state }) {\r\n    // Kiểm tra nếu dữ liệu đã được fetch rồi, không gọi lại API nữa\r\n    if (state.products.length > 0) {\r\n      return; // Dữ liệu đã có, không làm gì cả\r\n    }\r\n    try {\r\n      // Sử dụng axios để gọi API\r\n      const response = await axios.get(`${APIURL}productDrink`);\r\n      commit('setProducts', response.data); // Gọi mutation để cập nhật state\r\n    } catch (error) {\r\n      console.error('Error fetching products:', error);\r\n    }\r\n  },\r\n  async addProduct({ commit }, newProduct) {\r\n    try {\r\n      // Gửi yêu cầu POST tới API để thêm sản phẩm mới\r\n      const response = await axios.post(`${APIURL}productDrink`, newProduct);\r\n      // Gọi mutation để thêm sản phẩm mới vào state\r\n      commit('addProductToState', response.data);\r\n    } catch (error) {\r\n      console.error('Error adding product:', error);\r\n    }\r\n  },\r\n  async updateProduct({ commit }, { id, updatedProduct }) {\r\n    try {\r\n      // Gọi API PUT để cập nhật sản phẩm\r\n      const response = await axios.put(`${APIURL}productDrink/${id}`, updatedProduct);\r\n      // Gọi mutation để cập nhật sản phẩm trong state\r\n      commit('updateProductInState', response.data);\r\n    } catch (error) {\r\n      console.error('Error updating product:', error);\r\n    }\r\n  },\r\n  async deleteProduct({ commit }, id) {\r\n    try {\r\n      // Gọi API DELETE để xóa sản phẩm\r\n      await axios.delete(`${APIURL}productDrink/${id}`);\r\n      // Gọi mutation để xóa sản phẩm khỏi state\r\n      commit('removeProductFromState', id);\r\n    } catch (error) {\r\n      console.error('Error deleting product:', error);\r\n    }\r\n  },\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,eAAe;AAElC,eAAe;EACb,MAAMC,aAAaA,CAAC;IAAEC,MAAM;IAAEC;EAAM,CAAC,EAAE;IACrC;IACA,IAAIA,KAAK,CAACC,QAAQ,CAACC,MAAM,GAAG,CAAC,EAAE;MAC7B,OAAO,CAAC;IACV;IACA,IAAI;MACF;MACA,MAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,GAAGP,MAAM,cAAc,CAAC;MACzDE,MAAM,CAAC,aAAa,EAAEI,QAAQ,CAACE,IAAI,CAAC,CAAC,CAAC;IACxC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD;EACF,CAAC;EACD,MAAME,UAAUA,CAAC;IAAET;EAAO,CAAC,EAAEU,UAAU,EAAE;IACvC,IAAI;MACF;MACA,MAAMN,QAAQ,GAAG,MAAMP,KAAK,CAACc,IAAI,CAAC,GAAGb,MAAM,cAAc,EAAEY,UAAU,CAAC;MACtE;MACAV,MAAM,CAAC,mBAAmB,EAAEI,QAAQ,CAACE,IAAI,CAAC;IAC5C,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C;EACF,CAAC;EACD,MAAMK,aAAaA,CAAC;IAAEZ;EAAO,CAAC,EAAE;IAAEa,EAAE;IAAEC;EAAe,CAAC,EAAE;IACtD,IAAI;MACF;MACA,MAAMV,QAAQ,GAAG,MAAMP,KAAK,CAACkB,GAAG,CAAC,GAAGjB,MAAM,gBAAgBe,EAAE,EAAE,EAAEC,cAAc,CAAC;MAC/E;MACAd,MAAM,CAAC,sBAAsB,EAAEI,QAAQ,CAACE,IAAI,CAAC;IAC/C,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD;EACF,CAAC;EACD,MAAMS,aAAaA,CAAC;IAAEhB;EAAO,CAAC,EAAEa,EAAE,EAAE;IAClC,IAAI;MACF;MACA,MAAMhB,KAAK,CAACoB,MAAM,CAAC,GAAGnB,MAAM,gBAAgBe,EAAE,EAAE,CAAC;MACjD;MACAb,MAAM,CAAC,wBAAwB,EAAEa,EAAE,CAAC;IACtC,CAAC,CAAC,OAAON,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}